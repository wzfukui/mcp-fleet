# 📌 **MCP Server 对接前置准备事项清单（客户侧）**

以下内容为保障 MCP Server 能在贵司内网顺畅访问防火墙、IPS、数据库等目标设备所需的前置准备项。请贵司相关团队（网络、安全、运维）提前配合完成或确认。


---

## **一、账号与 API 访问权限准备**

请为我们配置以下访问方式之一（视设备而定）：

### **1. API Access**

* 为防火墙、IPS、HIDS、负载均衡等支持 API 的设备开通专用 API Key。
* 权限要求：

  * 能查询对象（地址组、策略、会话等）
  * 能执行封禁/解封操作（若涉及）
  * 能查询/写入基础配置（按项目需要）

**注意：请提供以下信息：**

* 设备管理地址（HTTPS）
* API Key / Token
* 该 Key 的权限范围说明

### **2. 登录账号（如 API 不支持）**

如设备只支持 SSH / Username+Password 登录，请提供：

* 登录账号
* 登录密码
* 账号权限需覆盖预期操作（只读/封禁/查询等，根据本项目定义）

---

## **二、关键字段与配置项确认**

为了保证 MCP Server 自动化操作命中正确对象，请确认或提供以下字段（因厂商不同，命名习惯也不同）：

### **1. 防火墙（Firewall）**

* **封禁对象的目标地址组名称**
  例如：`blocklist_global`、`soc_auto_block` 等
* 若支持多个区域，请明确封禁对象所在区域（Zone）

### **2. IPS / HIPS / NIPS**

* **全局黑名单列表名称**
  如：IPS 的 global blacklist / custom blocklist
* 若 IPS 需要 Device ID，请提供对应 Device ID 列表

### **3. 数据库或日志平台**

若 MCP Server 需要读取/写入数据，请提供：

* 数据库地址
* 端口
* 账号和权限说明
* 需要访问的表或 schema 名称（若涉及）

---

## **三、网络连通性与 ACL 策略开通**

请允许 DeepSOC 服务器访问贵司内网这些设备的必要端口。常见要求如下：

### **1. DeepSOC → 防火墙 / IPS**

* 协议：HTTPS（TCP 443）
* 若是 SSH 模式：TCP 22
* 若设备使用自定义端口，请提前明确

### **2. DeepSOC → 数据库**

* MySQL：3306
* PostgreSQL：5432
* Elasticsearch：9200/9300
* 其他端口请按设备实际情况提供

### **3. 双向访问要求（如需）**

部分 API 可能涉及回调或文件推送，请确认是否需要开启反向访问。

### **4. 提供测试方式**

请提供测试设备或测试环境，以便我们验证连接是否正常，例如：

* 防火墙测试地址组
* IPS 测试黑名单对象
* 测试用小型数据库/测试表

---

## **四、设备与文档信息收集**

为避免 MCP Server 行为错误或误封，请贵司提供：

### **1. 设备版本信息**

* 防火墙版本
* IPS 版本
* 模块 API 文档（如有）
* 当前启用模式（例如：IPS 拦截或仅告警模式）

### **2. 配置变更流程（可选）**

如果贵司内部有配置变更流程（如 CMDB 登记、审批要求），请提前说明，以免对接后被内部流程卡住。

---

# 📎 **交付方式建议**

准备好上述信息后，请按以下方式发送给我们：

1. 使用加密方式（如企业微信密聊、公司内部加密邮件）提供敏感账号信息
2. 文档中附上截图或配置说明（尽量减少歧义）
3. 若有 API 文档，请一并提供 PDF/HTML 链接
